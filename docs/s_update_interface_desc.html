
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>s_update_interface_desc &#8212; SecureCRT Tools 2.1.0 documentation</title>
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="s_vlan_to_csv" href="s_vlan_to_csv.html" />
    <link rel="prev" title="s_switchport_mapping" href="s_switchport_mapping.html" /> 
  </head>
  <body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">SecureCRT Tools 2.1.0 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="s_switchport_mapping.html" title="s_switchport_mapping"
             accesskey="P">previous</a> |
          <a href="s_vlan_to_csv.html" title="s_vlan_to_csv"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-s_update_interface_desc">
<span id="s-update-interface-desc"></span><h1>s_update_interface_desc<a class="headerlink" href="#module-s_update_interface_desc" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="s_update_interface_desc.script_main">
<code class="descclassname">s_update_interface_desc.</code><code class="descname">script_main</code><span class="sig-paren">(</span><em>script</em>, <em>prompt_checkmode=True</em>, <em>check_mode=True</em><span class="sig-paren">)</span><a class="headerlink" href="#s_update_interface_desc.script_main" title="Permalink to this definition">¶</a></dt>
<dd><div class="line-block">
<div class="line">SINGLE device script</div>
<div class="line">Author: Jamie Caesar</div>
<div class="line">Email: <a class="reference external" href="mailto:jcaesar&#37;&#52;&#48;presidio&#46;com">jcaesar<span>&#64;</span>presidio<span>&#46;</span>com</a></div>
</div>
<p>This script will grab the detailed CDP information from a Cisco IOS or NX-OS device and port-channel information and
generate the commands to update interface descriptions.  The user will be prompted to run in “Check Mode” which will
write the configuration changes to a file (for verification or later manual application).  If not, then the script
will push the configuration commands to the device and save the configuration.</p>
<p>Local Settings:
“strip_domains” -  A list of domain names that will be stripped away if found in the CDP remote device name.
“take_backups” - If set to True, the script will save a copy of the running config before and after making changes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>script</strong> (<a class="reference internal" href="securecrt_tools.html#securecrt_tools.script_types.Script" title="securecrt_tools.script_types.Script"><em>script_types.Script</em></a>) – A subclass of the sessions.Session object that represents this particular script session (either
SecureCRTSession or DirectSession)</li>
<li><strong>prompt_checkmode</strong> (<em>bool</em>) – A boolean that specifies if we should prompt the user to find out if we should run in
“check mode”.  We would make this False if we were using this function in a multi-device script, so that the
process can run continually without prompting the user at each device.</li>
<li><strong>check_mode</strong> (<em>bool</em>) – A boolean to specify whether we should run in “check mode” (Generate what the script would do
only – does not push config), or not (Pushes the changes to the device).   The default is True for safety
reasons, and this option will be overwritten unless prompt_checkmode is False.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="s_update_interface_desc.extract_cdp_data">
<code class="descclassname">s_update_interface_desc.</code><code class="descname">extract_cdp_data</code><span class="sig-paren">(</span><em>cdp_table</em><span class="sig-paren">)</span><a class="headerlink" href="#s_update_interface_desc.extract_cdp_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract only remote host and interface for each local interface in the CDP table</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cdp_table</strong> (<em>list of list</em>) – The TextFSM output for CDP neighbor detail</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary for each local interface with corresponding remote host and interface.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="s_update_interface_desc.add_port_channels">
<code class="descclassname">s_update_interface_desc.</code><code class="descname">add_port_channels</code><span class="sig-paren">(</span><em>desc_data</em>, <em>pc_data</em><span class="sig-paren">)</span><a class="headerlink" href="#s_update_interface_desc.add_port_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds port-channel information to our CDP data so that we can also put descriptions on port-channel interfaces that
have members found in the CDP table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>desc_data</strong> – Our CDP description data that needs to be updated</li>
<li><strong>pc_data</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><p class="first last">pc_data:</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="s_update_interface_desc.get_desc_table">
<code class="descclassname">s_update_interface_desc.</code><code class="descname">get_desc_table</code><span class="sig-paren">(</span><em>script</em><span class="sig-paren">)</span><a class="headerlink" href="#s_update_interface_desc.get_desc_table" title="Permalink to this definition">¶</a></dt>
<dd><p>A function that creates a lookup dictionary that can be used to get the description of an interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>script</strong> (<a class="reference internal" href="securecrt_tools.html#securecrt_tools.script_types.Script" title="securecrt_tools.script_types.Script"><em>script_types.Script</em></a>) – The script object that represents this script being executed</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A dictionary that allows getting the description of an interface by using the interface as the key.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">dict</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#important-note">Important Note</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#running-the-scripts">Running The Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html#settings">Settings</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="scripts.html">Scripts</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="single_device_scripts.html">Single Device Scripts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="s_arp_to_csv.html">s_arp_to_csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_cdp_to_csv.html">s_cdp_to_csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_create_sessions_from_cdp.html">s_create_sessions_from_cdp</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_document_device.html">s_document_device</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_interface_stats.html">s_interface_stats</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_mac_to_csv.html">s_mac_to_csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_nexthop_summary.html">s_nexthop_summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_save_output.html">s_save_output</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_save_running.html">s_save_running</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_switchport_mapping.html">s_switchport_mapping</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">s_update_interface_desc</a></li>
<li class="toctree-l3"><a class="reference internal" href="s_vlan_to_csv.html">s_vlan_to_csv</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="multi_device_scripts.html">Multiple Device Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="no_device_scripts.html">No Device Scripts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">Writing Your Own Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#a-note-on-textfsm">A Note on TextFSM</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html#module-documentation">Module Documentation</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="s_switchport_mapping.html" title="s_switchport_mapping"
              >previous</a> |
            <a href="s_vlan_to_csv.html" title="s_vlan_to_csv"
              >next</a> |
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/s_update_interface_desc.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Jamie Caesar.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.5.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>